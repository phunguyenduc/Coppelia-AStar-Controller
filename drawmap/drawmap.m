clear;
clc;

% map setting
map_size = [50, 50];
% obstacle
obs0 = [1:map_size(1), ... 
        map_size(1):map_size(1):map_size(1) * map_size(2), ...
        1:map_size(1):(map_size(1) - 1) * map_size(2), ...
        map_size(1) * (map_size(2) - 1):map_size(1) * map_size(2)];

obs1 = [370:1:380,...
        420:1:430,...
        470:1:480,...
        520:1:530,...
        570:1:580,...
        620:1:630,...
        670:1:680,...
        720:1:730,...
        770:1:780,...
        820:1:830,...
        870:1:880,...
        920:1:930];

obs2 = [1215:1:1220,...
    1265:1:1270,...
    1315:1:1320,...
    1365:1:1370,...
    1415:1:1420,...
    1465:1:1470];

obs3 = [1435:1:1440,...
    1485:1:1490,...
    1535:1:1540,...
    1585:1:1590,...
    1635:1:1640,...
    1685:1:1690,...
    1735:1:1740,...
    1785:1:1790,...
    1835:1:1840,...
    1885:1:1890,...
    1935:1:1940,...
    1985:1:1990,];

obstraitim = [2010, 2059, 2110, 2056, 2107, 2007, 2158, 2159, 1958, 1959];

obstacle = [obs0, obs1, obs2, obs3, obstraitim];

% creat grid
clf;
hold on;
grid_map = generate_grid(map_size, obstacle);

% save and plot
save gridmap_46x42_scene1 grid_map
plot_grid(grid_map);

function grid_map = generate_grid(size, obstacle)
%%
    grid_map = ones(size(1), size(2));
    grid_map(obstacle) = 2;
end

function plot_grid(grid_map)
    cmap = [1 1 1; ...
            0 0 0];
    colormap(cmap);
    %%
    [rows, cols] = size(grid_map);
    image(1.5, 1.5, grid_map);
    grid on
    set(gca,'xtick', 1:cols, 'ytick', 1:rows);
    axis image;

    for row = 1:rows
        line([1, cols + 1], [row, row], 'Color','#4DBEEE');
    end
    for col = 1:cols
        line([col, col], [1, rows + 1], 'Color','#4DBEEE');
    end
end